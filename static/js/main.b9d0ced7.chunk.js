(this.webpackJsonppokedex=this.webpackJsonppokedex||[]).push([[0],{35:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(0),r=n.n(s),i=n(18),c=n.n(i),o=(n(35),n(11)),l=n(15),u="POKEMONS_LOADING",p="POKEMONS_SHOW",h="POKEMONS_SHOW_ITEM",j={focusOn:null,items:null,itemsPerPage:16,page:1,status:"loading"},d=function(e){return Object.assign({},e)},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:var n=d(e);return n.focusOn=null,n.status=t.payload.status,n;case p:var a=d(e);return a.focusOn=null,a.items=t.payload.items,a.itemsPerPage=t.payload.itemsPerPage,a.page=t.payload.page,a.status=t.payload.status,a;case h:var s=d(e);return s.focusOn=t.payload.focusOn,s.status=t.payload.status,s;default:return e}},m=Object(l.c)({pokemons:b}),f=n(29),O=Object(l.d)(m,Object(l.a)(f.a)),g=n(4),v=n.n(g),x=n(14),k=n(8),y=n(9),P={get:"https://pokeapi.co/api/v2/pokemon/"},N={mode:"cors",headers:{"Content-Type":"application/json"},body:null},C=new(function(){function e(){Object(k.a)(this,e)}return Object(y.a)(e,[{key:"get",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var n,a,s,r,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign({},N),a=P.get,null!=t&&(s=t.itemsPerPage,r=(t.page-1)*t.itemsPerPage,a+="?limit=".concat(s,"&offset=").concat(r)),e.next=5,fetch(a,n);case 5:return i=e.sent,e.abrupt("return",i.json().then((function(e){var t=e.results,a=[];return t.forEach((function(e){a.push(fetch(e.url,n).then((function(e){return e.json()})))})),Promise.all(a).then((function(t){var n={data:[],dataCount:e.count};return t.forEach((function(e){n.data.push(e)})),n}))})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAbilities",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var n,a,s=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign({},N),a=[],t.abilities.forEach((function(e){a.push(fetch(e.ability.url,n).then((function(e){return e.json()})))})),e.abrupt("return",Promise.all(a).then((function(e){var t=[];return e.forEach((function(e){t.push(e.names.filter(s._getLang)[0].name)})),t.sort()})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(x.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._getBy(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getByName",value:function(){var e=Object(x.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._getBy(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMoves",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var n,a,s=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign({},N),a=[],t.moves.forEach((function(e){a.push(fetch(e.move.url,n).then((function(e){return e.json()})).catch((function(t){return console.error("There has been a problem with your fetch operation:",t),{names:[{language:{name:"en"},name:e.move.name+" (unavailable details)"}]}})))})),e.abrupt("return",Promise.all(a).then((function(e){var t=[];return e.forEach((function(e){t.push(e.names.filter(s._getLang)[0].name)})),t.sort()})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStats",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var n,a,s=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign({},N),a=[],t.stats.forEach((function(e){a.push(fetch(e.stat.url,n).then((function(e){return e.json()})))})),e.abrupt("return",Promise.all(a).then((function(e){var n=[];return e.forEach((function(e,a){n.push({base:t.stats[a].base_stat,effort:t.stats[a].effort,name:e.names.filter(s._getLang)[0].name})})),n.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getBy",value:function(){var e=Object(x.a)(v.a.mark((function e(t){var n,a,s,r=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign({},N),a=P.get+"".concat(t,"/"),e.next=4,fetch(a,n);case 4:return s=e.sent,e.abrupt("return",s.json().then((function(e){var t=[r.getAbilities(e),r.getMoves(e),r.getStats(e)];return Promise.all(t).then((function(t){return{abilities:t[0],id:e.id,image:e.sprites.front_default,moves:t[1],name:e.name,stats:t[2]}}))})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getLang",value:function(e){return"en"===e.language.name}}]),e}()),S=function(e){return function(t){return C.get(e).then((function(n){t({type:p,payload:{items:n,itemsPerPage:e.itemsPerPage,page:e.page,status:"loaded"}})}))}},w=function(){return function(e){e({type:u,payload:{status:"loading"}})}},A=n(26),_=n(3),E=n(13),I=n(12),M=function(e){return String(e.id).padStart(5,"0")},L=function(e){var t=e.name;return t.charAt(0).toUpperCase()+t.slice(1)},T=(n(41),n.p+"static/media/ImageNotAvailable.57c45eb0.png"),B=function(e){Object(E.a)(n,e);var t=Object(I.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){var e=this.props.data;if("loading"===e.status)return Object(a.jsx)("div",{className:"Pokemon",children:Object(a.jsx)("h2",{children:"Pokemon data are loading ..."})});var t=e.focusOn,n=L(t),s=T,r="Image not available for "+n;return null!=t.image&&(s=t.image,r="An image of "+n),Object(a.jsxs)("div",{className:"Pokemon",children:[Object(a.jsx)("h2",{className:"Pokemon-name",children:n}),Object(a.jsxs)("p",{className:"Pokemon-id",children:["ID: ",M(t)]}),Object(a.jsxs)("div",{className:"Pokemon-details",children:[Object(a.jsxs)("div",{className:"Pokemon-info",children:[Object(a.jsx)("h3",{children:"Abilities"}),Object(a.jsx)("ul",{className:"Pokemon-abilities",children:t.abilities.map((function(e,t){return Object(a.jsx)("li",{className:"Pokemon-ability",children:e},"ability-"+t)}))}),Object(a.jsx)("h3",{children:"Moves"}),Object(a.jsx)("ul",{className:"Pokemon-moves",children:t.moves.map((function(e,t){return Object(a.jsx)("li",{className:"Pokemon-move",children:e},"move-"+t)}))}),Object(a.jsx)("h3",{children:"Stats"}),Object(a.jsxs)("table",{className:"Pokemon-stats",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Name"}),Object(a.jsx)("th",{children:"Value"}),Object(a.jsx)("th",{children:"Effort"})]})}),Object(a.jsx)("tbody",{children:t.stats.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.name}),Object(a.jsx)("td",{children:e.base}),Object(a.jsx)("td",{children:e.effort})]},"stat-"+t)}))})]})]}),Object(a.jsx)("div",{children:Object(a.jsx)("img",{alt:r,className:"Pokemon-image",height:"96",src:s,width:"96"})})]})]})}}]),n}(r.a.Component),D=Object(o.b)((function(e){return{data:e.pokemons}}))(B),q=n(20),F=(n(42),function(e){Object(E.a)(n,e);var t=Object(I.a)(n);function n(e){var a;return Object(k.a)(this,n),(a=t.call(this,e)).handleClick=a.handleClick.bind(Object(q.a)(a)),a}return Object(y.a)(n,[{key:"handleClick",value:function(){var e=this.props.item,t=e.name;this.props.handleShowDetails(e),this.props.history.push("/pokemons/".concat(t,"/"))}},{key:"render",value:function(){var e=this.props.item,t=L(e),n=T,s="Image not available for "+t;return null!=e.sprites.front_default&&(n=e.sprites.front_default,s="An image of "+t),Object(a.jsxs)("div",{className:"Card",onClick:this.handleClick,title:"Show details about "+t,children:[Object(a.jsx)("h3",{className:"Card-name",children:t}),Object(a.jsx)("img",{alt:s,className:"Card-image",height:"96",src:n,width:"96"}),Object(a.jsxs)("p",{className:"Card-id",children:["#",M(e)]})]})}}]),n}(r.a.Component)),H=Object(o.b)(null,(function(e){return{handleShowDetails:function(t){e(w()),e(function(e){return function(t){return C.getById(e.id).then((function(e){t({type:h,payload:{focusOn:e,status:"loaded"}})}))}}(t))}}}))(Object(_.f)(F)),G=(n(44),function(e){Object(E.a)(n,e);var t=Object(I.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"prepareItems",value:function(){var e=this.props.data;if(null==e.items)return[];var t=e.itemsPerPage,n=e.page,a=e.items.dataCount,s=Math.ceil(a/t),r=[];1===n?(r.push({isClickable:!1,isSelected:!1,label:"&lsaquo;",page:1}),r.push({isClickable:!1,isSelected:!0,label:"1",page:1})):(r.push({isClickable:!0,isSelected:!1,label:"&lsaquo;",page:n-1}),r.push({isClickable:!0,isSelected:!1,label:"1",page:1}),n-2>1&&r.push({isClickable:!1,isSelected:!1,label:"...",page:null}));var i=n-2;i<=1&&(i=2);var c=n+2;c>=s&&(c=s-1);for(var o=i;o<=c;o++)o===n?r.push({isClickable:!1,isSelected:!0,label:o,page:o}):r.push({isClickable:!0,isSelected:!1,label:o,page:o});return n===s?(r.push({isClickable:!1,isSelected:!0,label:s,page:s}),r.push({isClickable:!1,isSelected:!1,label:"&rsaquo;",page:s})):(n+2<s?(r.push({isClickable:!1,isSelected:!1,label:"...",page:null}),r.push({isClickable:!0,isSelected:!1,label:s,page:s})):r.push({isClickable:!0,isSelected:!1,label:s,page:s}),r.push({isClickable:!0,isSelected:!1,label:"&rsaquo;",page:n+1})),r}},{key:"render",value:function(){var e=this,t=this.prepareItems();return Object(a.jsx)("div",{className:"Pagination",children:t.map((function(t,n){function s(e){return{__html:e}}var r=["Pagination-item"];return!0===t.isClickable&&r.push("Pagination-item-isClickable"),!0===t.isSelected&&r.push("Pagination-item-isSelected"),!0===t.isClickable?Object(a.jsx)("span",{className:r.join(" "),dangerouslySetInnerHTML:s(t.label),onClick:function(){return e.props.handleGoTo(t.page)}},n):Object(a.jsx)("span",{className:r.join(" "),dangerouslySetInnerHTML:s(t.label)},n)}))})}}]),n}(r.a.Component)),K=Object(o.b)(null,(function(e){return{handleGoTo:function(t){e(w()),e(S({itemsPerPage:16,page:t}))}}}))(G),J=(n(45),function(e){Object(E.a)(n,e);var t=Object(I.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){var e=this.props.data,t=null==e.items?[]:e.items.data,n=["Pokemons"];return"loading"===e.status&&n.push("Pokemons-isLoading"),Object(a.jsxs)("div",{className:n.join(" "),children:[Object(a.jsx)("h2",{className:"Pokemons-loading-wrapper",children:Object(a.jsx)("span",{className:"Pokemons-loading-message",children:"Pokemons data are loading ..."})}),Object(a.jsx)("ul",{className:"Pokemons-list",children:t.map((function(e,t){return Object(a.jsx)("li",{className:"Pokemons-item",children:Object(a.jsx)(H,{item:e})},t)}))}),Object(a.jsx)(K,{data:e})]})}}]),n}(r.a.Component)),W=Object(o.b)((function(e){return{data:e.pokemons}}))(J),U=function(e){Object(E.a)(n,e);var t=Object(I.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)("h2",{children:"Error 404: Page not found"})})}}]),n}(r.a.Component),V=n.p+"static/media/logo.f7ca03eb.svg";n(46);O.dispatch(w()),O.dispatch(S({itemsPerPage:16,page:1}));var z=function(){return Object(a.jsx)(o.a,{store:O,children:Object(a.jsxs)(A.a,{basename:"/pokedex",children:[" ",Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)("header",{className:"App-header",children:[Object(a.jsx)("img",{src:V,className:"App-logo",alt:"logo"}),Object(a.jsx)("h1",{className:"App-name",children:"Pok\xe9dex"})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("nav",{className:"App-navigation",children:Object(a.jsx)("ul",{className:"App-navigation-items",children:Object(a.jsx)("li",{className:"App-navigation-item",children:Object(a.jsx)(A.b,{activeClassName:"App-navigation-link-is-selected",className:"App-navigation-link",to:"/",children:"Pokemons"})})})}),Object(a.jsx)("hr",{}),Object(a.jsx)("main",{className:"App-main",children:Object(a.jsxs)(_.c,{children:[Object(a.jsx)(_.a,{exact:!0,path:"/",children:Object(a.jsx)(W,{})}),Object(a.jsx)(_.a,{path:"/pokemons/:name/",children:Object(a.jsx)(D,{})}),Object(a.jsx)(_.a,{path:"*",children:Object(a.jsx)(U,{})})]})}),Object(a.jsx)("hr",{}),Object(a.jsx)("footer",{className:"App-footer",children:"\xa9 2020 Elia Contini."})]})]})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),r(e),i(e)}))};c.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(z,{})}),document.getElementById("root")),Q()}},[[47,1,2]]]);
//# sourceMappingURL=main.b9d0ced7.chunk.js.map