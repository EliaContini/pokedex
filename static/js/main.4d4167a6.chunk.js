(this.webpackJsonppokedex=this.webpackJsonppokedex||[]).push([[0],{36:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),i=n.n(s),r=n(19),c=n.n(r),o=(n(36),n(10)),l=n(16),u=n(27),h="MY_POKEMONS_ADD",d="MY_POKEMONS_REMOVE",m="MY_POKEMONS_SHOW",p="MY_POKEMONS_SHOW_ITEM",j="POKEMONS_LOADING",b="POKEMONS_SHOW",f="POKEMONS_SHOW_ITEM",O={myPokemons:[],myPokemonsIndex:{}},g=function(e){return Object.assign({},e)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:var n=t.payload.pokemon,a=n.id;if(null==e.myPokemonsIndex[a]){var s={myPokemons:[].concat(Object(u.a)(e.myPokemons),[n]),myPokemonsIndex:g(e.myPokemonsIndex)};return s.myPokemonsIndex[a]=s.myPokemons.length-1,s}return e;case d:var i=t.payload.pokemon,r=i.id,c=e.myPokemonsIndex[r],o=Object(u.a)(e.myPokemons);o.splice(c,1);var l={myPokemons:o,myPokemonsIndex:g(e.myPokemonsIndex)};l.myPokemonsIndex[r]=null;for(var j=null,b=0,f=l.myPokemons.length;b<f;b++)j=l.myPokemons[b],l.myPokemonsIndex[j.id]=b;return l;case p:var v=g(e);return v;case m:default:return e}},k={focusOn:null,items:null,itemsPerPage:16,page:1,status:"loading"},x=function(e){return Object.assign({},e)},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:var n=x(e);return n.focusOn=null,n.status=t.payload.status,n;case b:var a=x(e);return a.focusOn=null,a.items=t.payload.items,a.itemsPerPage=t.payload.itemsPerPage,a.page=t.payload.page,a.status=t.payload.status,a;case f:var s=x(e);return s.focusOn=t.payload.focusOn,s.status=t.payload.status,s;default:return e}},P=Object(l.c)({myPokemons:v,pokemons:y}),N=n(30),C=Object(l.d)(P,Object(l.a)(N.a)),S=n(4),w=n.n(S),A=n(15),M=n(5),_=n(6),I={get:"https://pokeapi.co/api/v2/pokemon/"},E={mode:"cors",headers:{"Content-Type":"application/json"},body:null},D=new(function(){function e(){Object(M.a)(this,e)}return Object(_.a)(e,[{key:"get",value:function(){var e=Object(A.a)(w.a.mark((function e(t){var n,a,s,i,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign({},E),a=I.get,null!=t&&(s=t.itemsPerPage,i=(t.page-1)*t.itemsPerPage,a+="?limit=".concat(s,"&offset=").concat(i)),e.next=5,fetch(a,n);case 5:return r=e.sent,e.abrupt("return",r.json().then((function(e){var t=e.results,a=[];return t.forEach((function(e){a.push(fetch(e.url,n).then((function(e){return e.json()})))})),Promise.all(a).then((function(t){var n={data:[],dataCount:e.count};return t.forEach((function(e){n.data.push(e)})),n}))})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAbilities",value:function(){var e=Object(A.a)(w.a.mark((function e(t){var n,a,s=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign({},E),a=[],t.abilities.forEach((function(e){a.push(fetch(e.ability.url,n).then((function(e){return e.json()})))})),e.abrupt("return",Promise.all(a).then((function(e){var t=[];return e.forEach((function(e){t.push(e.names.filter(s._getLang)[0].name)})),t.sort()})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(A.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._getBy(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getByName",value:function(){var e=Object(A.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._getBy(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMoves",value:function(){var e=Object(A.a)(w.a.mark((function e(t){var n,a,s=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign({},E),a=[],t.moves.forEach((function(e){a.push(fetch(e.move.url,n).then((function(e){return e.json()})).catch((function(t){return console.error("There has been a problem with your fetch operation:",t),{names:[{language:{name:"en"},name:e.move.name+" (unavailable details)"}]}})))})),e.abrupt("return",Promise.all(a).then((function(e){var t=[];return e.forEach((function(e){t.push(e.names.filter(s._getLang)[0].name)})),t.sort()})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStats",value:function(){var e=Object(A.a)(w.a.mark((function e(t){var n,a,s=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign({},E),a=[],t.stats.forEach((function(e){a.push(fetch(e.stat.url,n).then((function(e){return e.json()})))})),e.abrupt("return",Promise.all(a).then((function(e){var n=[];return e.forEach((function(e,a){n.push({base:t.stats[a].base_stat,effort:t.stats[a].effort,name:e.names.filter(s._getLang)[0].name})})),n.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getBy",value:function(){var e=Object(A.a)(w.a.mark((function e(t){var n,a,s,i=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign({},E),a=I.get+"".concat(t,"/"),e.next=4,fetch(a,n);case 4:return s=e.sent,e.abrupt("return",s.json().then((function(e){var t=[i.getAbilities(e),i.getMoves(e),i.getStats(e)];return Promise.all(t).then((function(t){return{abilities:t[0],id:e.id,image:e.sprites.front_default,moves:t[1],name:e.name,stats:t[2]}}))})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getLang",value:function(e){return"en"===e.language.name}}]),e}()),L=function(e){return function(t){return D.getById(e.id).then((function(e){t({type:f,payload:{focusOn:e,status:"loaded"}})}))}},T=function(e){return function(t){return D.get(e).then((function(n){t({type:b,payload:{items:n,itemsPerPage:e.itemsPerPage,page:e.page,status:"loaded"}})}))}},B=function(){return function(e){e({type:j,payload:{status:"loading"}})}},R=n(21),K=n(3),H=n(14),q=n(12),F=n(11),W=function(e){return String(e.id).padStart(5,"0")},Y=function(e){var t=e.name;return t.charAt(0).toUpperCase()+t.slice(1)},G=(n(42),n.p+"static/media/ImageNotAvailable.57c45eb0.png"),J=function(e){Object(q.a)(n,e);var t=Object(F.a)(n);function n(e){var a;return Object(M.a)(this,n),(a=t.call(this,e)).handleRemove=a.handleRemove.bind(Object(H.a)(a)),a.handleShowDetails=a.handleShowDetails.bind(Object(H.a)(a)),a}return Object(_.a)(n,[{key:"handleRemove",value:function(e){this.props.handleMyPokemonsRemove(e)}},{key:"handleShowDetails",value:function(e){var t=e.name;this.props.handleShowDetails(e),this.props.history.push("/my-pokemons/".concat(t,"/"))}},{key:"prepareData",value:function(){var e=this.props.data.myPokemons,t=[];return e.forEach((function(e){var n=Y(e),a=G,s="Image not available for "+n;null!=e.sprites.front_default&&(a=e.sprites.front_default,s="An image of "+n),t.push({id:"#"+W(e),image:a,imageAlt:s,name:n,raw:e})})),t}},{key:"render",value:function(){var e=this,t=this.prepareData();return 0===t.length?Object(a.jsx)("div",{className:"MyPokemons",children:Object(a.jsx)("h2",{children:"No Pokemons in your list."})}):Object(a.jsx)("div",{className:"MyPokemons",children:Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{}),Object(a.jsx)("th",{children:"Name"}),Object(a.jsx)("th",{children:"ID"}),Object(a.jsx)("th",{})]})}),Object(a.jsx)("tbody",{children:t.map((function(t,n){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("img",{alt:t.imageAlt,height:"48",src:t.image,width:"48"})}),Object(a.jsx)("td",{children:t.name}),Object(a.jsx)("td",{children:t.id}),Object(a.jsxs)("td",{children:[Object(a.jsx)("button",{className:"MyPokemons-button MyPokemons-remove",onClick:function(){e.handleRemove(t.raw)},children:"Remove"}),Object(a.jsx)("button",{className:"MyPokemons-button MyPokemons-show",onClick:function(){e.handleShowDetails(t.raw)},children:"Show"})]})]},"my-pokemon"+n)}))})]})})}}]),n}(i.a.Component),V=Object(o.b)((function(e){return{data:e.myPokemons}}),(function(e){return{handleMyPokemonsRemove:function(t){e(function(e){return function(t){t({type:d,payload:{pokemon:e}})}}(t))},handleShowDetails:function(t){e(B()),e(L(t))}}}))(Object(K.g)(J)),U=(n(44),function(e){Object(q.a)(n,e);var t=Object(F.a)(n);function n(){return Object(M.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"render",value:function(){var e=this.props.data;if("loading"===e.status)return Object(a.jsx)("div",{className:"Pokemon",children:Object(a.jsx)("h2",{children:"Pokemon data are loading ..."})});var t=e.focusOn,n=Y(t),s=G,i="Image not available for "+n;return null!=t.image&&(s=t.image,i="An image of "+n),Object(a.jsxs)("div",{className:"Pokemon",children:[Object(a.jsx)("h2",{className:"Pokemon-name",children:n}),Object(a.jsxs)("p",{className:"Pokemon-id",children:["ID: ",W(t)]}),Object(a.jsxs)("div",{className:"Pokemon-details",children:[Object(a.jsxs)("div",{className:"Pokemon-info",children:[Object(a.jsx)("h3",{children:"Abilities"}),Object(a.jsx)("ul",{className:"Pokemon-abilities",children:t.abilities.map((function(e,t){return Object(a.jsx)("li",{className:"Pokemon-ability",children:e},"ability-"+t)}))}),Object(a.jsx)("h3",{children:"Moves"}),Object(a.jsx)("ul",{className:"Pokemon-moves",children:t.moves.map((function(e,t){return Object(a.jsx)("li",{className:"Pokemon-move",children:e},"move-"+t)}))}),Object(a.jsx)("h3",{children:"Stats"}),Object(a.jsxs)("table",{className:"Pokemon-stats",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Name"}),Object(a.jsx)("th",{children:"Value"}),Object(a.jsx)("th",{children:"Effort"})]})}),Object(a.jsx)("tbody",{children:t.stats.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.name}),Object(a.jsx)("td",{children:e.base}),Object(a.jsx)("td",{children:e.effort})]},"stat-"+t)}))})]})]}),Object(a.jsx)("div",{children:Object(a.jsx)("img",{alt:i,className:"Pokemon-image",height:"96",src:s,width:"96"})})]})]})}}]),n}(i.a.Component)),z=Object(o.b)((function(e){return{data:e.pokemons}}))(U),Q=(n(45),function(e){Object(q.a)(n,e);var t=Object(F.a)(n);function n(e){var a;return Object(M.a)(this,n),(a=t.call(this,e)).handleAdd=a.handleAdd.bind(Object(H.a)(a)),a.handleClick=a.handleClick.bind(Object(H.a)(a)),a}return Object(_.a)(n,[{key:"handleAdd",value:function(e){e.stopPropagation();var t=this.props.item;this.props.handleMyPokemonsAdd(t)}},{key:"handleClick",value:function(){var e=this.props.item,t=e.name;this.props.handleShowDetails(e),this.props.history.push("/pokemons/".concat(t,"/"))}},{key:"render",value:function(){var e=this.props.item,t=Y(e),n=G,s="Image not available for "+t;return null!=e.sprites.front_default&&(n=e.sprites.front_default,s="An image of "+t),Object(a.jsxs)("div",{className:"Card",onClick:this.handleClick,title:"Show details about "+t,children:[Object(a.jsx)("h2",{className:"Card-name",children:t}),Object(a.jsx)("img",{alt:s,className:"Card-image",height:"96",src:n,width:"96"}),Object(a.jsxs)("div",{className:"Card-footer",children:[Object(a.jsxs)("p",{className:"Card-id",children:["#",W(e)," "]}),Object(a.jsx)("button",{className:"Card-add",onClick:this.handleAdd,title:"Add "+t+" to My Pokemons",children:"Add"})]})]})}}]),n}(i.a.Component)),X=Object(o.b)(null,(function(e){return{handleMyPokemonsAdd:function(t){e(function(e){return function(t){t({type:h,payload:{pokemon:e}})}}(t))},handleShowDetails:function(t){e(B()),e(L(t))}}}))(Object(K.g)(Q)),Z=(n(46),function(e){Object(q.a)(n,e);var t=Object(F.a)(n);function n(){return Object(M.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"prepareItems",value:function(){var e=this.props.data;if(null==e.items)return[];var t=e.itemsPerPage,n=e.page,a=e.items.dataCount,s=Math.ceil(a/t),i=[];1===n?(i.push({isClickable:!1,isSelected:!1,label:"&lsaquo;",page:1}),i.push({isClickable:!1,isSelected:!0,label:"1",page:1})):(i.push({isClickable:!0,isSelected:!1,label:"&lsaquo;",page:n-1}),i.push({isClickable:!0,isSelected:!1,label:"1",page:1}),n-2>1&&i.push({isClickable:!1,isSelected:!1,label:"...",page:null}));var r=n-2;r<=1&&(r=2);var c=n+2;c>=s&&(c=s-1);for(var o=r;o<=c;o++)o===n?i.push({isClickable:!1,isSelected:!0,label:o,page:o}):i.push({isClickable:!0,isSelected:!1,label:o,page:o});return n===s?(i.push({isClickable:!1,isSelected:!0,label:s,page:s}),i.push({isClickable:!1,isSelected:!1,label:"&rsaquo;",page:s})):(n+2<s?(i.push({isClickable:!1,isSelected:!1,label:"...",page:null}),i.push({isClickable:!0,isSelected:!1,label:s,page:s})):i.push({isClickable:!0,isSelected:!1,label:s,page:s}),i.push({isClickable:!0,isSelected:!1,label:"&rsaquo;",page:n+1})),i}},{key:"render",value:function(){var e=this,t=this.prepareItems();return Object(a.jsx)("div",{className:"Pagination",children:t.map((function(t,n){function s(e){return{__html:e}}var i=["Pagination-item"];return!0===t.isClickable&&i.push("Pagination-item-isClickable"),!0===t.isSelected&&i.push("Pagination-item-isSelected"),!0===t.isClickable?Object(a.jsx)("span",{className:i.join(" "),dangerouslySetInnerHTML:s(t.label),onClick:function(){return e.props.handleGoTo(t.page)}},n):Object(a.jsx)("span",{className:i.join(" "),dangerouslySetInnerHTML:s(t.label)},n)}))})}}]),n}(i.a.Component)),$=Object(o.b)(null,(function(e){return{handleGoTo:function(t){e(B()),e(T({itemsPerPage:16,page:t}))}}}))(Z),ee=(n(47),function(e){Object(q.a)(n,e);var t=Object(F.a)(n);function n(){return Object(M.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"render",value:function(){var e=this.props.data,t=null==e.items?[]:e.items.data,n=["Pokemons"];return"loading"===e.status&&n.push("Pokemons-isLoading"),Object(a.jsxs)("div",{className:n.join(" "),children:[Object(a.jsx)("h2",{className:"Pokemons-loading-wrapper",children:Object(a.jsx)("span",{className:"Pokemons-loading-message",children:"Pokemons data are loading ..."})}),Object(a.jsx)("ul",{className:"Pokemons-list",children:t.map((function(e,t){return Object(a.jsx)("li",{className:"Pokemons-item",children:Object(a.jsx)(X,{item:e})},t)}))}),Object(a.jsx)($,{data:e})]})}}]),n}(i.a.Component)),te=Object(o.b)((function(e){return{data:e.pokemons}}))(ee),ne=function(e){Object(q.a)(n,e);var t=Object(F.a)(n);function n(){return Object(M.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)("h2",{children:"Error 404: Page not found"})})}}]),n}(i.a.Component),ae=n.p+"static/media/logo.f7ca03eb.svg";n(48);C.dispatch(B()),C.dispatch(T({itemsPerPage:16,page:1}));var se=function(){return Object(a.jsx)(o.a,{store:C,children:Object(a.jsx)(R.a,{basename:"/pokedex",children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)("header",{className:"App-header",children:[Object(a.jsx)("img",{alt:"Logo",className:"App-logo",height:"48",src:ae,width:"48"}),Object(a.jsx)("h1",{className:"App-name",children:"Pok\xe9dex"})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("nav",{className:"App-navigation",children:Object(a.jsxs)("ul",{className:"App-navigation-items",children:[Object(a.jsx)("li",{className:"App-navigation-item",children:Object(a.jsx)(R.b,{activeClassName:"App-navigation-link-is-selected",className:"App-navigation-link",to:"/pokemons/",children:"Pokemons"})}),Object(a.jsx)("li",{className:"App-navigation-item",children:Object(a.jsx)(R.b,{activeClassName:"App-navigation-link-is-selected",className:"App-navigation-link",to:"/my-pokemons/",children:"My Pokemons"})})]})}),Object(a.jsx)("hr",{}),Object(a.jsx)("main",{className:"App-main",children:Object(a.jsxs)(K.d,{children:[Object(a.jsx)(K.b,{exact:!0,path:"/",children:Object(a.jsx)(K.a,{to:"/pokemons/"})}),Object(a.jsx)(K.b,{exact:!0,path:"/pokemons/",children:Object(a.jsx)(te,{})}),Object(a.jsx)(K.b,{exact:!0,path:"/pokemons/:name/",children:Object(a.jsx)(z,{})}),Object(a.jsx)(K.b,{exact:!0,path:"/my-pokemons/",children:Object(a.jsx)(V,{})}),Object(a.jsx)(K.b,{exact:!0,path:"/my-pokemons/:name/",children:Object(a.jsx)(z,{})}),Object(a.jsx)(K.b,{path:"*",children:Object(a.jsx)(ne,{})})]})}),Object(a.jsx)("hr",{}),Object(a.jsx)("footer",{className:"App-footer",children:"\xa9 2020 Elia Contini."})]})})})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),i(e),r(e)}))};c.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(se,{})}),document.getElementById("root")),ie()}},[[49,1,2]]]);
//# sourceMappingURL=main.4d4167a6.chunk.js.map